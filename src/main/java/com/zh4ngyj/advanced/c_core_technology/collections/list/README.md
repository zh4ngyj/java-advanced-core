# 模块: List 集合框架

本模块主要对比分析 `ArrayList` 和 `LinkedList` 这两个 `java.util.List` 接口最常用的实现类。理解它们的底层数据结构和性能差异是 Java 开发的基础。

## `ArrayList`
- **底层数据结构**: 动态数组 (`Object[] elementData`)。
- **核心特性**:
    - **查询快**: 支持通过索引进行快速的随机访问，时间复杂度为 **O(1)**，因为它直接通过数组下标定位元素。
    - **增删慢**: 在数组中间或开头插入/删除元素时，需要批量移动后续元素 (`System.arraycopy`)，时间复杂度为 **O(n)**。在末尾添加元素的平均时间复杂度为 **O(1)**。
- **动态扩容**:
    - 当向 `ArrayList` 添加元素且当前数组容量不足时，会触发扩容。
    - 大多数情况下，新容量会是旧容量的 **1.5 倍** (`oldCapacity + (oldCapacity >> 1)`)。
    - 这是一个开销较大的操作，因为它涉及到新数组的创建和旧数组元素的复制。因此，如果在创建 `ArrayList` 时能预估到元素数量，最好指定一个初始容量以减少扩容次数。

## `LinkedList`
- **底层数据结构**: 双向链表 (Doubly-linked list)。每个节点 (`Node`) 都包含对前一个节点 (`prev`) 和后一个节点 (`next`) 的引用。
- **核心特性**:
    - **查询慢**: 不支持高效的随机访问。要查找第 `i` 个元素，需要从头或尾开始遍历，时间复杂度为 **O(n)**。
    - **增删快**: 在链表的头部或尾部插入/删除元素，时间复杂度为 **O(1)**。在链表中间进行增删操作，如果已经拥有该节点的引用，时间复杂度也是 **O(1)**，否则需要先遍历找到该节点 (O(n))。
- **额外功能**: 实现了 `Deque` 接口，可以作为双端队列（栈或队列）使用。

---

## 性能对比与选择

| 特性         | `ArrayList`                         | `LinkedList`                             |
|--------------|-------------------------------------|------------------------------------------|
| **数据结构** | 动态数组                            | 双向链表                                 |
| **随机访问** | 快 (O(1))                           | 慢 (O(n))                                |
| **插入/删除**| 慢 (O(n))，末尾为 O(1)              | 快 (O(1))                                |
| **内存占用** | 较小，内存连续                      | 较大，每个节点都有额外的指针开销         |

### 如何选择?
- **频繁查询，少量增删**: 优先选择 `ArrayList`。这是绝大多数场景下的首选。
- **频繁增删，少量查询**: 优先选择 `LinkedList`。特别是在需要频繁在列表头部和尾部操作的场景（如实现队列）。
- **内存敏感**: `ArrayList` 的内存开销通常更低。